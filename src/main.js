/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => LowercaseFilesPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var path = __toESM(require("path"));
var DEFAULT_SETTINGS = {
  lastSelectedFolder: "",
  lowercaseAction: "name",
  uppercaseAction: "name",
  capitalizeAction: "name"
};
var LowercaseFilesPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    const ribbonIconEl = this.addRibbonIcon("case-sensitive", "File Case Converter", (evt) => {
      new FolderSelectionModal(this.app, this).open();
    });
    ribbonIconEl.addClass("lowercase-files-ribbon-class");
    this.addCommand({
      id: "open-file-case-converter-modal",
      name: "Open File Case Converter Panel",
      callback: () => {
        new FolderSelectionModal(this.app, this).open();
      }
    });
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (file instanceof import_obsidian.TFile || file instanceof import_obsidian.TFolder) {
          if (this.settings.lowercaseAction === "name") {
            menu.addItem((item) => {
              item.setTitle("Lowercase name").setIcon("type").onClick(async () => {
                await this.lowercaseSingleItem(file);
              });
            });
          }
          if (this.settings.uppercaseAction === "name") {
            menu.addItem((item) => {
              item.setTitle("Uppercase name").setIcon("type").onClick(async () => {
                await this.uppercaseSingleItem(file);
              });
            });
          }
          if (this.settings.capitalizeAction === "name") {
            menu.addItem((item) => {
              item.setTitle("Capitalize name").setIcon("type").onClick(async () => {
                await this.capitalizeSingleItem(file);
              });
            });
          }
          if (file instanceof import_obsidian.TFolder) {
            if (this.settings.lowercaseAction === "all") {
              menu.addItem((item) => {
                item.setTitle("Lowercase all files in folder").setIcon("folder-down").onClick(async () => {
                  const confirmed = await this.showQuickConfirmation(
                    `Lowercase all files and folders in "${file.name}"?`,
                    "This will recursively lowercase all files and subfolders. This cannot be undone."
                  );
                  if (confirmed) {
                    await this.lowercaseFilesRecursively(file.path);
                  }
                });
              });
            }
            if (this.settings.uppercaseAction === "all") {
              menu.addItem((item) => {
                item.setTitle("Uppercase all files in folder").setIcon("folder-up").onClick(async () => {
                  const confirmed = await this.showQuickConfirmation(
                    `Uppercase all files and folders in "${file.name}"?`,
                    "This will recursively uppercase all files and subfolders. This cannot be undone."
                  );
                  if (confirmed) {
                    await this.uppercaseFilesRecursively(file.path);
                  }
                });
              });
            }
            if (this.settings.capitalizeAction === "all") {
              menu.addItem((item) => {
                item.setTitle("Capitalize all files in folder").setIcon("heading").onClick(async () => {
                  const confirmed = await this.showQuickConfirmation(
                    `Capitalize all files and folders in "${file.name}"?`,
                    "This will recursively capitalize all files and subfolders. This cannot be undone."
                  );
                  if (confirmed) {
                    await this.capitalizeFilesRecursively(file.path);
                  }
                });
              });
            }
          }
        }
      })
    );
    this.addSettingTab(new LowercaseFilesSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async lowercaseSingleItem(file) {
    try {
      const originalName = file.name;
      const lowerCaseName = originalName.toLowerCase();
      if (originalName === lowerCaseName) {
        new import_obsidian.Notice(`"${originalName}" is already lowercase`);
        return;
      }
      if (file instanceof import_obsidian.TFile) {
        await this.processFile(file, "lowercase");
      } else if (file instanceof import_obsidian.TFolder) {
        await this.processFolderRename(file, "lowercase");
      }
      new import_obsidian.Notice(`Renamed "${originalName}" to "${lowerCaseName}"`);
    } catch (error) {
      console.error("Error lowercasing item:", error);
      new import_obsidian.Notice("Error occurred while lowercasing. Check console for details.");
    }
  }
  async uppercaseSingleItem(file) {
    try {
      const originalName = file.name;
      const upperCaseName = originalName.toUpperCase();
      if (originalName === upperCaseName) {
        new import_obsidian.Notice(`"${originalName}" is already uppercase`);
        return;
      }
      if (file instanceof import_obsidian.TFile) {
        await this.processFile(file, "uppercase");
      } else if (file instanceof import_obsidian.TFolder) {
        await this.processFolderRename(file, "uppercase");
      }
      new import_obsidian.Notice(`Renamed "${originalName}" to "${upperCaseName}"`);
    } catch (error) {
      console.error("Error uppercasing item:", error);
      new import_obsidian.Notice("Error occurred while uppercasing. Check console for details.");
    }
  }
  async capitalizeSingleItem(file) {
    try {
      const originalName = file.name;
      const capitalizedName = this.capitalizeFirstLetter(originalName);
      if (originalName === capitalizedName) {
        new import_obsidian.Notice(`"${originalName}" is already capitalized`);
        return;
      }
      if (file instanceof import_obsidian.TFile) {
        await this.processFile(file, "capitalize");
      } else if (file instanceof import_obsidian.TFolder) {
        await this.processFolderRename(file, "capitalize");
      }
      new import_obsidian.Notice(`Renamed "${originalName}" to "${capitalizedName}"`);
    } catch (error) {
      console.error("Error capitalizing item:", error);
      new import_obsidian.Notice("Error occurred while capitalizing. Check console for details.");
    }
  }
  capitalizeFirstLetter(str) {
    if (str.length === 0)
      return str;
    return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
  }
  async showQuickConfirmation(title, message) {
    return new Promise((resolve) => {
      const modal = new import_obsidian.Modal(this.app);
      const { contentEl } = modal;
      contentEl.createEl("h3", { text: title });
      contentEl.createEl("p", { text: message, cls: "lowercase-files-warning-text" });
      const buttonContainer = contentEl.createDiv("lowercase-files-buttons");
      const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
      cancelButton.addEventListener("click", () => {
        modal.close();
        resolve(false);
      });
      const confirmButton = buttonContainer.createEl("button", {
        text: "Yes, Proceed",
        cls: "mod-warning"
      });
      confirmButton.addEventListener("click", () => {
        modal.close();
        resolve(true);
      });
      modal.open();
    });
  }
  async lowercaseFilesRecursively(folderPath) {
    await this.processFilesRecursively(folderPath, "lowercase");
  }
  async uppercaseFilesRecursively(folderPath) {
    await this.processFilesRecursively(folderPath, "uppercase");
  }
  async capitalizeFilesRecursively(folderPath) {
    await this.processFilesRecursively(folderPath, "capitalize");
  }
  async processFilesRecursively(folderPath, caseType) {
    const folder = this.app.vault.getAbstractFileByPath(folderPath);
    if (!folder || !(folder instanceof import_obsidian.TFolder)) {
      new import_obsidian.Notice("Invalid folder path");
      return;
    }
    try {
      await this.processFolder(folder, caseType);
      const actionName = caseType === "lowercase" ? "lowercased" : caseType === "uppercase" ? "uppercased" : "capitalized";
      new import_obsidian.Notice(`Successfully ${actionName} all files and folders!`);
    } catch (error) {
      console.error(`Error ${caseType}ing files:`, error);
      new import_obsidian.Notice(`Error occurred while ${caseType}ing files. Check console for details.`);
    }
  }
  async processFolder(folder, caseType) {
    const children = [...folder.children];
    for (const child of children) {
      if (child instanceof import_obsidian.TFile) {
        await this.processFile(child, caseType);
      }
    }
    for (const child of children) {
      if (child instanceof import_obsidian.TFolder) {
        await this.processFolder(child, caseType);
        await this.processFolderRename(child, caseType);
      }
    }
  }
  async processFile(file, caseType) {
    var _a;
    const fileName = file.name;
    let newFileName;
    switch (caseType) {
      case "lowercase":
        newFileName = fileName.toLowerCase();
        break;
      case "uppercase":
        newFileName = fileName.toUpperCase();
        break;
      case "capitalize":
        newFileName = this.capitalizeFirstLetter(fileName);
        break;
    }
    if (fileName !== newFileName) {
      const newPath = path.join(((_a = file.parent) == null ? void 0 : _a.path) || "", newFileName);
      const normalizedNewPath = (0, import_obsidian.normalizePath)(newPath);
      const existingFile = this.app.vault.getAbstractFileByPath(normalizedNewPath);
      if (existingFile && existingFile !== file) {
        console.warn(`Cannot rename ${file.path} to ${normalizedNewPath}: file already exists`);
        new import_obsidian.Notice(`Skipped ${fileName}: ${caseType} version already exists`);
        return;
      }
      try {
        await this.app.vault.rename(file, normalizedNewPath);
        console.log(`Renamed file: ${file.path} -> ${normalizedNewPath}`);
      } catch (error) {
        console.error(`Failed to rename file ${file.path}:`, error);
      }
    }
  }
  async processFolderRename(folder, caseType) {
    var _a;
    const folderName = folder.name;
    let newFolderName;
    switch (caseType) {
      case "lowercase":
        newFolderName = folderName.toLowerCase();
        break;
      case "uppercase":
        newFolderName = folderName.toUpperCase();
        break;
      case "capitalize":
        newFolderName = this.capitalizeFirstLetter(folderName);
        break;
    }
    if (folderName !== newFolderName) {
      const newPath = path.join(((_a = folder.parent) == null ? void 0 : _a.path) || "", newFolderName);
      const normalizedNewPath = (0, import_obsidian.normalizePath)(newPath);
      const existingFolder = this.app.vault.getAbstractFileByPath(normalizedNewPath);
      if (existingFolder && existingFolder !== folder) {
        console.warn(`Cannot rename ${folder.path} to ${normalizedNewPath}: folder already exists`);
        new import_obsidian.Notice(`Skipped ${folderName}: ${caseType} version already exists`);
        return;
      }
      try {
        await this.app.vault.rename(folder, normalizedNewPath);
        console.log(`Renamed folder: ${folder.path} -> ${normalizedNewPath}`);
      } catch (error) {
        console.error(`Failed to rename folder ${folder.path}:`, error);
      }
    }
  }
};
var FolderSelectionModal = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.selectedFolder = "";
    this.selectedAction = "lowercase";
    this.plugin = plugin;
    this.selectedFolder = plugin.settings.lastSelectedFolder;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Convert File Case Recursively" });
    contentEl.createEl("p", {
      text: "Select a folder and case conversion type to recursively process all file and folder names within it.",
      cls: "setting-item-description"
    });
    const warningEl = contentEl.createDiv("lowercase-files-warning");
    warningEl.createEl("strong", { text: "\u26A0\uFE0F Warning: " });
    warningEl.createSpan({ text: "This operation cannot be undone. Make sure to backup your files before proceeding." });
    new import_obsidian.Setting(contentEl).setName("Case Conversion Type").setDesc("Choose how to convert the file names").addDropdown((dropdown) => {
      dropdown.addOption("lowercase", "Lowercase").addOption("uppercase", "Uppercase").addOption("capitalize", "Capitalize First Letter").setValue(this.selectedAction).onChange((value) => {
        this.selectedAction = value;
      });
    });
    const folderSetting = new import_obsidian.Setting(contentEl).setName("Select Folder").setDesc("Choose the folder to process").addDropdown((dropdown) => {
      dropdown.addOption("", "/ (Root)");
      const folders = this.app.vault.getAllLoadedFiles().filter((file) => file instanceof import_obsidian.TFolder).map((folder) => folder).sort((a, b) => a.path.localeCompare(b.path));
      folders.forEach((folder) => {
        dropdown.addOption(folder.path, folder.path || "/");
      });
      dropdown.setValue(this.selectedFolder);
      dropdown.onChange((value) => {
        this.selectedFolder = value;
      });
    });
    const buttonContainer = contentEl.createDiv("lowercase-files-buttons");
    const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
    cancelButton.addEventListener("click", () => {
      this.close();
    });
    const processButton = buttonContainer.createEl("button", {
      text: "Convert Files",
      cls: "mod-cta"
    });
    processButton.addEventListener("click", async () => {
      if (!this.selectedFolder && this.selectedFolder !== "") {
        new import_obsidian.Notice("Please select a folder");
        return;
      }
      this.plugin.settings.lastSelectedFolder = this.selectedFolder;
      await this.plugin.saveSettings();
      const confirmed = await this.showConfirmation();
      if (confirmed) {
        this.close();
        switch (this.selectedAction) {
          case "lowercase":
            await this.plugin.lowercaseFilesRecursively(this.selectedFolder);
            break;
          case "uppercase":
            await this.plugin.uppercaseFilesRecursively(this.selectedFolder);
            break;
          case "capitalize":
            await this.plugin.capitalizeFilesRecursively(this.selectedFolder);
            break;
        }
      }
    });
  }
  async showConfirmation() {
    return new Promise((resolve) => {
      const modal = new import_obsidian.Modal(this.app);
      const { contentEl } = modal;
      const actionText = this.selectedAction === "lowercase" ? "lowercase" : this.selectedAction === "uppercase" ? "uppercase" : "capitalize";
      const actionPastTense = this.selectedAction === "lowercase" ? "Lowercase" : this.selectedAction === "uppercase" ? "Uppercase" : "Capitalize";
      contentEl.createEl("h3", { text: "Confirm Operation" });
      contentEl.createEl("p", {
        text: `Are you sure you want to ${actionText} all files and folders in "${this.selectedFolder || "Root"}"?`
      });
      contentEl.createEl("p", {
        text: "This operation cannot be undone.",
        cls: "lowercase-files-warning-text"
      });
      const buttonContainer = contentEl.createDiv("lowercase-files-buttons");
      const cancelButton = buttonContainer.createEl("button", { text: "Cancel" });
      cancelButton.addEventListener("click", () => {
        modal.close();
        resolve(false);
      });
      const confirmButton = buttonContainer.createEl("button", {
        text: `Yes, ${actionPastTense} Files`,
        cls: "mod-warning"
      });
      confirmButton.addEventListener("click", () => {
        modal.close();
        resolve(true);
      });
      modal.open();
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var LowercaseFilesSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "File Case Converter Settings" });
    new import_obsidian.Setting(containerEl).setName("Lowercase Action").setDesc("Choose what the lowercase operation should do").addDropdown((dropdown) => dropdown.addOption("name", "Lowercase name only").addOption("all", "Lowercase all files in folder").setValue(this.plugin.settings.lowercaseAction).onChange(async (value) => {
      this.plugin.settings.lowercaseAction = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Uppercase Action").setDesc("Choose what the uppercase operation should do").addDropdown((dropdown) => dropdown.addOption("name", "Uppercase name only").addOption("all", "Uppercase all files in folder").setValue(this.plugin.settings.uppercaseAction).onChange(async (value) => {
      this.plugin.settings.uppercaseAction = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Capitalize Action").setDesc("Choose what the capitalize operation should do").addDropdown((dropdown) => dropdown.addOption("name", "Capitalize name only").addOption("all", "Capitalize all files in folder").setValue(this.plugin.settings.capitalizeAction).onChange(async (value) => {
      this.plugin.settings.capitalizeAction = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Last Selected Folder").setDesc("The folder that was last selected for processing").addText((text) => text.setPlaceholder("No folder selected").setValue(this.plugin.settings.lastSelectedFolder).setDisabled(true));
    containerEl.createEl("h3", { text: "About" });
    containerEl.createEl("p", {
      text: "This plugin converts file and folder name cases (lowercase, uppercase, capitalize first letter) either for single items or recursively for all files in a folder. Use with caution as these operations cannot be undone."
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE1vZGFsLCBOb3RpY2UsIFRGaWxlLCBURm9sZGVyLCBub3JtYWxpemVQYXRoIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcblxuaW50ZXJmYWNlIExvd2VyY2FzZUZpbGVzU2V0dGluZ3Mge1xuXHRsYXN0U2VsZWN0ZWRGb2xkZXI6IHN0cmluZztcblx0bG93ZXJjYXNlQWN0aW9uOiAnbmFtZScgfCAnYWxsJztcblx0dXBwZXJjYXNlQWN0aW9uOiAnbmFtZScgfCAnYWxsJztcblx0Y2FwaXRhbGl6ZUFjdGlvbjogJ25hbWUnIHwgJ2FsbCc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IExvd2VyY2FzZUZpbGVzU2V0dGluZ3MgPSB7XG5cdGxhc3RTZWxlY3RlZEZvbGRlcjogJycsXG5cdGxvd2VyY2FzZUFjdGlvbjogJ25hbWUnLFxuXHR1cHBlcmNhc2VBY3Rpb246ICduYW1lJyxcblx0Y2FwaXRhbGl6ZUFjdGlvbjogJ25hbWUnXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvd2VyY2FzZUZpbGVzUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IExvd2VyY2FzZUZpbGVzU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBBZGQgcmliYm9uIGljb25cblx0XHRjb25zdCByaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oJ2Nhc2Utc2Vuc2l0aXZlJywgJ0ZpbGUgQ2FzZSBDb252ZXJ0ZXInLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRuZXcgRm9sZGVyU2VsZWN0aW9uTW9kYWwodGhpcy5hcHAsIHRoaXMpLm9wZW4oKTtcblx0XHR9KTtcblx0XHRyaWJib25JY29uRWwuYWRkQ2xhc3MoJ2xvd2VyY2FzZS1maWxlcy1yaWJib24tY2xhc3MnKTtcblxuXHRcdC8vIEFkZCBjb21tYW5kXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnb3Blbi1maWxlLWNhc2UtY29udmVydGVyLW1vZGFsJyxcblx0XHRcdG5hbWU6ICdPcGVuIEZpbGUgQ2FzZSBDb252ZXJ0ZXIgUGFuZWwnLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0bmV3IEZvbGRlclNlbGVjdGlvbk1vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgZmlsZSBtZW51IChyaWdodC1jbGljayBjb250ZXh0IG1lbnUpIGl0ZW1zXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW1lbnUnLCAobWVudSwgZmlsZSkgPT4ge1xuXHRcdFx0XHQvLyBPbmx5IGFkZCBtZW51IGl0ZW1zIGZvciBmaWxlcyBhbmQgZm9sZGVycywgbm90IGFic3RyYWN0IGZpbGVzXG5cdFx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgfHwgZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcblx0XHRcdFx0XHQvLyBMb3dlcmNhc2Ugb3B0aW9uc1xuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmxvd2VyY2FzZUFjdGlvbiA9PT0gJ25hbWUnKSB7XG5cdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdFx0aXRlbVxuXHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZSgnTG93ZXJjYXNlIG5hbWUnKVxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKCd0eXBlJylcblx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmxvd2VyY2FzZVNpbmdsZUl0ZW0oZmlsZSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBVcHBlcmNhc2Ugb3B0aW9uc1xuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnVwcGVyY2FzZUFjdGlvbiA9PT0gJ25hbWUnKSB7XG5cdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdFx0aXRlbVxuXHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZSgnVXBwZXJjYXNlIG5hbWUnKVxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKCd0eXBlJylcblx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnVwcGVyY2FzZVNpbmdsZUl0ZW0oZmlsZSk7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBDYXBpdGFsaXplIG9wdGlvbnNcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5jYXBpdGFsaXplQWN0aW9uID09PSAnbmFtZScpIHtcblx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpdGVtXG5cdFx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKCdDYXBpdGFsaXplIG5hbWUnKVxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKCd0eXBlJylcblx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmNhcGl0YWxpemVTaW5nbGVJdGVtKGZpbGUpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gSWYgaXQncyBhIGZvbGRlciwgYWRkIG9wdGlvbnMgZm9yIHJlY3Vyc2l2ZSBvcGVyYXRpb25zXG5cdFx0XHRcdFx0aWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG5cdFx0XHRcdFx0XHQvLyBMb3dlcmNhc2UgcmVjdXJzaXZlXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5sb3dlcmNhc2VBY3Rpb24gPT09ICdhbGwnKSB7XG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGl0ZW1cblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZSgnTG93ZXJjYXNlIGFsbCBmaWxlcyBpbiBmb2xkZXInKVxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oJ2ZvbGRlci1kb3duJylcblx0XHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgY29uZmlybWVkID0gYXdhaXQgdGhpcy5zaG93UXVpY2tDb25maXJtYXRpb24oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YExvd2VyY2FzZSBhbGwgZmlsZXMgYW5kIGZvbGRlcnMgaW4gXCIke2ZpbGUubmFtZX1cIj9gLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdUaGlzIHdpbGwgcmVjdXJzaXZlbHkgbG93ZXJjYXNlIGFsbCBmaWxlcyBhbmQgc3ViZm9sZGVycy4gVGhpcyBjYW5ub3QgYmUgdW5kb25lLidcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNvbmZpcm1lZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMubG93ZXJjYXNlRmlsZXNSZWN1cnNpdmVseShmaWxlLnBhdGgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFVwcGVyY2FzZSByZWN1cnNpdmVcblx0XHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnVwcGVyY2FzZUFjdGlvbiA9PT0gJ2FsbCcpIHtcblx0XHRcdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKCdVcHBlcmNhc2UgYWxsIGZpbGVzIGluIGZvbGRlcicpXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0SWNvbignZm9sZGVyLXVwJylcblx0XHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgY29uZmlybWVkID0gYXdhaXQgdGhpcy5zaG93UXVpY2tDb25maXJtYXRpb24oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YFVwcGVyY2FzZSBhbGwgZmlsZXMgYW5kIGZvbGRlcnMgaW4gXCIke2ZpbGUubmFtZX1cIj9gLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCdUaGlzIHdpbGwgcmVjdXJzaXZlbHkgdXBwZXJjYXNlIGFsbCBmaWxlcyBhbmQgc3ViZm9sZGVycy4gVGhpcyBjYW5ub3QgYmUgdW5kb25lLidcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNvbmZpcm1lZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudXBwZXJjYXNlRmlsZXNSZWN1cnNpdmVseShmaWxlLnBhdGgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIENhcGl0YWxpemUgcmVjdXJzaXZlXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5jYXBpdGFsaXplQWN0aW9uID09PSAnYWxsJykge1xuXHRcdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRpdGVtXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoJ0NhcGl0YWxpemUgYWxsIGZpbGVzIGluIGZvbGRlcicpXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0SWNvbignaGVhZGluZycpXG5cdFx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IHRoaXMuc2hvd1F1aWNrQ29uZmlybWF0aW9uKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGBDYXBpdGFsaXplIGFsbCBmaWxlcyBhbmQgZm9sZGVycyBpbiBcIiR7ZmlsZS5uYW1lfVwiP2AsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0J1RoaXMgd2lsbCByZWN1cnNpdmVseSBjYXBpdGFsaXplIGFsbCBmaWxlcyBhbmQgc3ViZm9sZGVycy4gVGhpcyBjYW5ub3QgYmUgdW5kb25lLidcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNvbmZpcm1lZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuY2FwaXRhbGl6ZUZpbGVzUmVjdXJzaXZlbHkoZmlsZS5wYXRoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0Ly8gQWRkIHNldHRpbmdzIHRhYlxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTG93ZXJjYXNlRmlsZXNTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHQvLyBDbGVhbnVwIGlmIG5lZWRlZFxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cblxuXHRhc3luYyBsb3dlcmNhc2VTaW5nbGVJdGVtKGZpbGU6IFRGaWxlIHwgVEZvbGRlcik6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBvcmlnaW5hbE5hbWUgPSBmaWxlLm5hbWU7XG5cdFx0XHRjb25zdCBsb3dlckNhc2VOYW1lID0gb3JpZ2luYWxOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcblx0XHRcdGlmIChvcmlnaW5hbE5hbWUgPT09IGxvd2VyQ2FzZU5hbWUpIHtcblx0XHRcdFx0bmV3IE5vdGljZShgXCIke29yaWdpbmFsTmFtZX1cIiBpcyBhbHJlYWR5IGxvd2VyY2FzZWApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdFx0YXdhaXQgdGhpcy5wcm9jZXNzRmlsZShmaWxlLCAnbG93ZXJjYXNlJyk7XG5cdFx0XHR9IGVsc2UgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMucHJvY2Vzc0ZvbGRlclJlbmFtZShmaWxlLCAnbG93ZXJjYXNlJyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdG5ldyBOb3RpY2UoYFJlbmFtZWQgXCIke29yaWdpbmFsTmFtZX1cIiB0byBcIiR7bG93ZXJDYXNlTmFtZX1cImApO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBsb3dlcmNhc2luZyBpdGVtOicsIGVycm9yKTtcblx0XHRcdG5ldyBOb3RpY2UoJ0Vycm9yIG9jY3VycmVkIHdoaWxlIGxvd2VyY2FzaW5nLiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLicpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIHVwcGVyY2FzZVNpbmdsZUl0ZW0oZmlsZTogVEZpbGUgfCBURm9sZGVyKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG9yaWdpbmFsTmFtZSA9IGZpbGUubmFtZTtcblx0XHRcdGNvbnN0IHVwcGVyQ2FzZU5hbWUgPSBvcmlnaW5hbE5hbWUudG9VcHBlckNhc2UoKTtcblx0XHRcdFxuXHRcdFx0aWYgKG9yaWdpbmFsTmFtZSA9PT0gdXBwZXJDYXNlTmFtZSkge1xuXHRcdFx0XHRuZXcgTm90aWNlKGBcIiR7b3JpZ2luYWxOYW1lfVwiIGlzIGFscmVhZHkgdXBwZXJjYXNlYCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnByb2Nlc3NGaWxlKGZpbGUsICd1cHBlcmNhc2UnKTtcblx0XHRcdH0gZWxzZSBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcblx0XHRcdFx0YXdhaXQgdGhpcy5wcm9jZXNzRm9sZGVyUmVuYW1lKGZpbGUsICd1cHBlcmNhc2UnKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0bmV3IE5vdGljZShgUmVuYW1lZCBcIiR7b3JpZ2luYWxOYW1lfVwiIHRvIFwiJHt1cHBlckNhc2VOYW1lfVwiYCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwcGVyY2FzaW5nIGl0ZW06JywgZXJyb3IpO1xuXHRcdFx0bmV3IE5vdGljZSgnRXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBwZXJjYXNpbmcuIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuJyk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgY2FwaXRhbGl6ZVNpbmdsZUl0ZW0oZmlsZTogVEZpbGUgfCBURm9sZGVyKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG9yaWdpbmFsTmFtZSA9IGZpbGUubmFtZTtcblx0XHRcdGNvbnN0IGNhcGl0YWxpemVkTmFtZSA9IHRoaXMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKG9yaWdpbmFsTmFtZSk7XG5cdFx0XHRcblx0XHRcdGlmIChvcmlnaW5hbE5hbWUgPT09IGNhcGl0YWxpemVkTmFtZSkge1xuXHRcdFx0XHRuZXcgTm90aWNlKGBcIiR7b3JpZ2luYWxOYW1lfVwiIGlzIGFscmVhZHkgY2FwaXRhbGl6ZWRgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMucHJvY2Vzc0ZpbGUoZmlsZSwgJ2NhcGl0YWxpemUnKTtcblx0XHRcdH0gZWxzZSBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcblx0XHRcdFx0YXdhaXQgdGhpcy5wcm9jZXNzRm9sZGVyUmVuYW1lKGZpbGUsICdjYXBpdGFsaXplJyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdG5ldyBOb3RpY2UoYFJlbmFtZWQgXCIke29yaWdpbmFsTmFtZX1cIiB0byBcIiR7Y2FwaXRhbGl6ZWROYW1lfVwiYCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhcGl0YWxpemluZyBpdGVtOicsIGVycm9yKTtcblx0XHRcdG5ldyBOb3RpY2UoJ0Vycm9yIG9jY3VycmVkIHdoaWxlIGNhcGl0YWxpemluZy4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy4nKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNhcGl0YWxpemVGaXJzdExldHRlcihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0aWYgKHN0ci5sZW5ndGggPT09IDApIHJldHVybiBzdHI7XG5cdFx0cmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuXHR9XG5cblx0YXN5bmMgc2hvd1F1aWNrQ29uZmlybWF0aW9uKHRpdGxlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0Y29uc3QgbW9kYWwgPSBuZXcgTW9kYWwodGhpcy5hcHApO1xuXHRcdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IG1vZGFsO1xuXHRcdFx0XG5cdFx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiB0aXRsZSB9KTtcblx0XHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogbWVzc2FnZSwgY2xzOiAnbG93ZXJjYXNlLWZpbGVzLXdhcm5pbmctdGV4dCcgfSk7XG5cblx0XHRcdGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ2xvd2VyY2FzZS1maWxlcy1idXR0b25zJyk7XG5cdFx0XHRcblx0XHRcdGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJyB9KTtcblx0XHRcdGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0bW9kYWwuY2xvc2UoKTtcblx0XHRcdFx0cmVzb2x2ZShmYWxzZSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgY29uZmlybUJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcblx0XHRcdFx0dGV4dDogJ1llcywgUHJvY2VlZCcsXG5cdFx0XHRcdGNsczogJ21vZC13YXJuaW5nJ1xuXHRcdFx0fSk7XG5cdFx0XHRjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRtb2RhbC5jbG9zZSgpO1xuXHRcdFx0XHRyZXNvbHZlKHRydWUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdG1vZGFsLm9wZW4oKTtcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGxvd2VyY2FzZUZpbGVzUmVjdXJzaXZlbHkoZm9sZGVyUGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy5wcm9jZXNzRmlsZXNSZWN1cnNpdmVseShmb2xkZXJQYXRoLCAnbG93ZXJjYXNlJyk7XG5cdH1cblxuXHRhc3luYyB1cHBlcmNhc2VGaWxlc1JlY3Vyc2l2ZWx5KGZvbGRlclBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMucHJvY2Vzc0ZpbGVzUmVjdXJzaXZlbHkoZm9sZGVyUGF0aCwgJ3VwcGVyY2FzZScpO1xuXHR9XG5cblx0YXN5bmMgY2FwaXRhbGl6ZUZpbGVzUmVjdXJzaXZlbHkoZm9sZGVyUGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy5wcm9jZXNzRmlsZXNSZWN1cnNpdmVseShmb2xkZXJQYXRoLCAnY2FwaXRhbGl6ZScpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBwcm9jZXNzRmlsZXNSZWN1cnNpdmVseShmb2xkZXJQYXRoOiBzdHJpbmcsIGNhc2VUeXBlOiAnbG93ZXJjYXNlJyB8ICd1cHBlcmNhc2UnIHwgJ2NhcGl0YWxpemUnKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZvbGRlclBhdGgpO1xuXHRcdFxuXHRcdGlmICghZm9sZGVyIHx8ICEoZm9sZGVyIGluc3RhbmNlb2YgVEZvbGRlcikpIHtcblx0XHRcdG5ldyBOb3RpY2UoJ0ludmFsaWQgZm9sZGVyIHBhdGgnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgdGhpcy5wcm9jZXNzRm9sZGVyKGZvbGRlciwgY2FzZVR5cGUpO1xuXHRcdFx0Y29uc3QgYWN0aW9uTmFtZSA9IGNhc2VUeXBlID09PSAnbG93ZXJjYXNlJyA/ICdsb3dlcmNhc2VkJyA6IGNhc2VUeXBlID09PSAndXBwZXJjYXNlJyA/ICd1cHBlcmNhc2VkJyA6ICdjYXBpdGFsaXplZCc7XG5cdFx0XHRuZXcgTm90aWNlKGBTdWNjZXNzZnVsbHkgJHthY3Rpb25OYW1lfSBhbGwgZmlsZXMgYW5kIGZvbGRlcnMhYCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYEVycm9yICR7Y2FzZVR5cGV9aW5nIGZpbGVzOmAsIGVycm9yKTtcblx0XHRcdG5ldyBOb3RpY2UoYEVycm9yIG9jY3VycmVkIHdoaWxlICR7Y2FzZVR5cGV9aW5nIGZpbGVzLiBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzLmApO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgcHJvY2Vzc0ZvbGRlcihmb2xkZXI6IFRGb2xkZXIsIGNhc2VUeXBlOiAnbG93ZXJjYXNlJyB8ICd1cHBlcmNhc2UnIHwgJ2NhcGl0YWxpemUnKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY2hpbGRyZW4gPSBbLi4uZm9sZGVyLmNoaWxkcmVuXTtcblx0XHRcblx0XHQvLyBQcm9jZXNzIGZpbGVzIGZpcnN0XG5cdFx0Zm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuXHRcdFx0aWYgKGNoaWxkIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdFx0YXdhaXQgdGhpcy5wcm9jZXNzRmlsZShjaGlsZCwgY2FzZVR5cGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByb2Nlc3Mgc3ViZm9sZGVycyByZWN1cnNpdmVseVxuXHRcdGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcblx0XHRcdGlmIChjaGlsZCBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcblx0XHRcdFx0YXdhaXQgdGhpcy5wcm9jZXNzRm9sZGVyKGNoaWxkLCBjYXNlVHlwZSk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucHJvY2Vzc0ZvbGRlclJlbmFtZShjaGlsZCwgY2FzZVR5cGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgcHJvY2Vzc0ZpbGUoZmlsZTogVEZpbGUsIGNhc2VUeXBlOiAnbG93ZXJjYXNlJyB8ICd1cHBlcmNhc2UnIHwgJ2NhcGl0YWxpemUnKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgZmlsZU5hbWUgPSBmaWxlLm5hbWU7XG5cdFx0bGV0IG5ld0ZpbGVOYW1lOiBzdHJpbmc7XG5cdFx0XG5cdFx0c3dpdGNoIChjYXNlVHlwZSkge1xuXHRcdFx0Y2FzZSAnbG93ZXJjYXNlJzpcblx0XHRcdFx0bmV3RmlsZU5hbWUgPSBmaWxlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VwcGVyY2FzZSc6XG5cdFx0XHRcdG5ld0ZpbGVOYW1lID0gZmlsZU5hbWUudG9VcHBlckNhc2UoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdjYXBpdGFsaXplJzpcblx0XHRcdFx0bmV3RmlsZU5hbWUgPSB0aGlzLmNhcGl0YWxpemVGaXJzdExldHRlcihmaWxlTmFtZSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoZmlsZU5hbWUgIT09IG5ld0ZpbGVOYW1lKSB7XG5cdFx0XHRjb25zdCBuZXdQYXRoID0gcGF0aC5qb2luKGZpbGUucGFyZW50Py5wYXRoIHx8ICcnLCBuZXdGaWxlTmFtZSk7XG5cdFx0XHRjb25zdCBub3JtYWxpemVkTmV3UGF0aCA9IG5vcm1hbGl6ZVBhdGgobmV3UGF0aCk7XG5cdFx0XHRcblx0XHRcdC8vIENoZWNrIGlmIGEgZmlsZSB3aXRoIHRoZSBuZXcgbmFtZSBhbHJlYWR5IGV4aXN0c1xuXHRcdFx0Y29uc3QgZXhpc3RpbmdGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5vcm1hbGl6ZWROZXdQYXRoKTtcblx0XHRcdGlmIChleGlzdGluZ0ZpbGUgJiYgZXhpc3RpbmdGaWxlICE9PSBmaWxlKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgQ2Fubm90IHJlbmFtZSAke2ZpbGUucGF0aH0gdG8gJHtub3JtYWxpemVkTmV3UGF0aH06IGZpbGUgYWxyZWFkeSBleGlzdHNgKTtcblx0XHRcdFx0bmV3IE5vdGljZShgU2tpcHBlZCAke2ZpbGVOYW1lfTogJHtjYXNlVHlwZX0gdmVyc2lvbiBhbHJlYWR5IGV4aXN0c2ApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlbmFtZShmaWxlLCBub3JtYWxpemVkTmV3UGF0aCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGBSZW5hbWVkIGZpbGU6ICR7ZmlsZS5wYXRofSAtPiAke25vcm1hbGl6ZWROZXdQYXRofWApO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJlbmFtZSBmaWxlICR7ZmlsZS5wYXRofTpgLCBlcnJvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBwcm9jZXNzRm9sZGVyUmVuYW1lKGZvbGRlcjogVEZvbGRlciwgY2FzZVR5cGU6ICdsb3dlcmNhc2UnIHwgJ3VwcGVyY2FzZScgfCAnY2FwaXRhbGl6ZScpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBmb2xkZXJOYW1lID0gZm9sZGVyLm5hbWU7XG5cdFx0bGV0IG5ld0ZvbGRlck5hbWU6IHN0cmluZztcblx0XHRcblx0XHRzd2l0Y2ggKGNhc2VUeXBlKSB7XG5cdFx0XHRjYXNlICdsb3dlcmNhc2UnOlxuXHRcdFx0XHRuZXdGb2xkZXJOYW1lID0gZm9sZGVyTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VwcGVyY2FzZSc6XG5cdFx0XHRcdG5ld0ZvbGRlck5hbWUgPSBmb2xkZXJOYW1lLnRvVXBwZXJDYXNlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnY2FwaXRhbGl6ZSc6XG5cdFx0XHRcdG5ld0ZvbGRlck5hbWUgPSB0aGlzLmNhcGl0YWxpemVGaXJzdExldHRlcihmb2xkZXJOYW1lKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChmb2xkZXJOYW1lICE9PSBuZXdGb2xkZXJOYW1lKSB7XG5cdFx0XHRjb25zdCBuZXdQYXRoID0gcGF0aC5qb2luKGZvbGRlci5wYXJlbnQ/LnBhdGggfHwgJycsIG5ld0ZvbGRlck5hbWUpO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZE5ld1BhdGggPSBub3JtYWxpemVQYXRoKG5ld1BhdGgpO1xuXHRcdFx0XG5cdFx0XHQvLyBDaGVjayBpZiBhIGZvbGRlciB3aXRoIHRoZSBuZXcgbmFtZSBhbHJlYWR5IGV4aXN0c1xuXHRcdFx0Y29uc3QgZXhpc3RpbmdGb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9ybWFsaXplZE5ld1BhdGgpO1xuXHRcdFx0aWYgKGV4aXN0aW5nRm9sZGVyICYmIGV4aXN0aW5nRm9sZGVyICE9PSBmb2xkZXIpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBDYW5ub3QgcmVuYW1lICR7Zm9sZGVyLnBhdGh9IHRvICR7bm9ybWFsaXplZE5ld1BhdGh9OiBmb2xkZXIgYWxyZWFkeSBleGlzdHNgKTtcblx0XHRcdFx0bmV3IE5vdGljZShgU2tpcHBlZCAke2ZvbGRlck5hbWV9OiAke2Nhc2VUeXBlfSB2ZXJzaW9uIGFscmVhZHkgZXhpc3RzYCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQucmVuYW1lKGZvbGRlciwgbm9ybWFsaXplZE5ld1BhdGgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgUmVuYW1lZCBmb2xkZXI6ICR7Zm9sZGVyLnBhdGh9IC0+ICR7bm9ybWFsaXplZE5ld1BhdGh9YCk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcmVuYW1lIGZvbGRlciAke2ZvbGRlci5wYXRofTpgLCBlcnJvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmNsYXNzIEZvbGRlclNlbGVjdGlvbk1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRwbHVnaW46IExvd2VyY2FzZUZpbGVzUGx1Z2luO1xuXHRzZWxlY3RlZEZvbGRlcjogc3RyaW5nID0gJyc7XG5cdHNlbGVjdGVkQWN0aW9uOiAnbG93ZXJjYXNlJyB8ICd1cHBlcmNhc2UnIHwgJ2NhcGl0YWxpemUnID0gJ2xvd2VyY2FzZSc7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTG93ZXJjYXNlRmlsZXNQbHVnaW4pIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHRcdHRoaXMuc2VsZWN0ZWRGb2xkZXIgPSBwbHVnaW4uc2V0dGluZ3MubGFzdFNlbGVjdGVkRm9sZGVyO1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0NvbnZlcnQgRmlsZSBDYXNlIFJlY3Vyc2l2ZWx5JyB9KTtcblx0XHRcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IFxuXHRcdFx0dGV4dDogJ1NlbGVjdCBhIGZvbGRlciBhbmQgY2FzZSBjb252ZXJzaW9uIHR5cGUgdG8gcmVjdXJzaXZlbHkgcHJvY2VzcyBhbGwgZmlsZSBhbmQgZm9sZGVyIG5hbWVzIHdpdGhpbiBpdC4nLFxuXHRcdFx0Y2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJ1xuXHRcdH0pO1xuXG5cdFx0Ly8gV2FybmluZyBub3RpY2Vcblx0XHRjb25zdCB3YXJuaW5nRWwgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdsb3dlcmNhc2UtZmlsZXMtd2FybmluZycpO1xuXHRcdHdhcm5pbmdFbC5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnXHUyNkEwXHVGRTBGIFdhcm5pbmc6ICcgfSk7XG5cdFx0d2FybmluZ0VsLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnVGhpcyBvcGVyYXRpb24gY2Fubm90IGJlIHVuZG9uZS4gTWFrZSBzdXJlIHRvIGJhY2t1cCB5b3VyIGZpbGVzIGJlZm9yZSBwcm9jZWVkaW5nLicgfSk7XG5cblx0XHQvLyBBY3Rpb24gc2VsZWN0aW9uXG5cdFx0bmV3IFNldHRpbmcoY29udGVudEVsKVxuXHRcdFx0LnNldE5hbWUoJ0Nhc2UgQ29udmVyc2lvbiBUeXBlJylcblx0XHRcdC5zZXREZXNjKCdDaG9vc2UgaG93IHRvIGNvbnZlcnQgdGhlIGZpbGUgbmFtZXMnKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0ZHJvcGRvd24uYWRkT3B0aW9uKCdsb3dlcmNhc2UnLCAnTG93ZXJjYXNlJylcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCd1cHBlcmNhc2UnLCAnVXBwZXJjYXNlJylcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdjYXBpdGFsaXplJywgJ0NhcGl0YWxpemUgRmlyc3QgTGV0dGVyJylcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5zZWxlY3RlZEFjdGlvbilcblx0XHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlOiAnbG93ZXJjYXNlJyB8ICd1cHBlcmNhc2UnIHwgJ2NhcGl0YWxpemUnKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkQWN0aW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdC8vIEZvbGRlciBzZWxlY3Rpb25cblx0XHRjb25zdCBmb2xkZXJTZXR0aW5nID0gbmV3IFNldHRpbmcoY29udGVudEVsKVxuXHRcdFx0LnNldE5hbWUoJ1NlbGVjdCBGb2xkZXInKVxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB0aGUgZm9sZGVyIHRvIHByb2Nlc3MnKVxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0Ly8gQWRkIHJvb3Qgb3B0aW9uXG5cdFx0XHRcdGRyb3Bkb3duLmFkZE9wdGlvbignJywgJy8gKFJvb3QpJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBBZGQgYWxsIGZvbGRlcnMgaW4gdGhlIHZhdWx0XG5cdFx0XHRcdGNvbnN0IGZvbGRlcnMgPSB0aGlzLmFwcC52YXVsdC5nZXRBbGxMb2FkZWRGaWxlcygpXG5cdFx0XHRcdFx0LmZpbHRlcihmaWxlID0+IGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKVxuXHRcdFx0XHRcdC5tYXAoZm9sZGVyID0+IGZvbGRlciBhcyBURm9sZGVyKVxuXHRcdFx0XHRcdC5zb3J0KChhLCBiKSA9PiBhLnBhdGgubG9jYWxlQ29tcGFyZShiLnBhdGgpKTtcblxuXHRcdFx0XHRmb2xkZXJzLmZvckVhY2goZm9sZGVyID0+IHtcblx0XHRcdFx0XHRkcm9wZG93bi5hZGRPcHRpb24oZm9sZGVyLnBhdGgsIGZvbGRlci5wYXRoIHx8ICcvJyk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGRyb3Bkb3duLnNldFZhbHVlKHRoaXMuc2VsZWN0ZWRGb2xkZXIpO1xuXHRcdFx0XHRkcm9wZG93bi5vbkNoYW5nZSh2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RlZEZvbGRlciA9IHZhbHVlO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0Ly8gQWN0aW9uIGJ1dHRvbnNcblx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdsb3dlcmNhc2UtZmlsZXMtYnV0dG9ucycpO1xuXHRcdFxuXHRcdGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJyB9KTtcblx0XHRjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBwcm9jZXNzQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuXHRcdFx0dGV4dDogJ0NvbnZlcnQgRmlsZXMnLFxuXHRcdFx0Y2xzOiAnbW9kLWN0YSdcblx0XHR9KTtcblx0XHRwcm9jZXNzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCF0aGlzLnNlbGVjdGVkRm9sZGVyICYmIHRoaXMuc2VsZWN0ZWRGb2xkZXIgIT09ICcnKSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoJ1BsZWFzZSBzZWxlY3QgYSBmb2xkZXInKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIHRoZSBzZWxlY3RlZCBmb2xkZXJcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmxhc3RTZWxlY3RlZEZvbGRlciA9IHRoaXMuc2VsZWN0ZWRGb2xkZXI7XG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblxuXHRcdFx0Ly8gU2hvdyBjb25maXJtYXRpb25cblx0XHRcdGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IHRoaXMuc2hvd0NvbmZpcm1hdGlvbigpO1xuXHRcdFx0aWYgKGNvbmZpcm1lZCkge1xuXHRcdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRcdHN3aXRjaCAodGhpcy5zZWxlY3RlZEFjdGlvbikge1xuXHRcdFx0XHRcdGNhc2UgJ2xvd2VyY2FzZSc6XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5sb3dlcmNhc2VGaWxlc1JlY3Vyc2l2ZWx5KHRoaXMuc2VsZWN0ZWRGb2xkZXIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAndXBwZXJjYXNlJzpcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwcGVyY2FzZUZpbGVzUmVjdXJzaXZlbHkodGhpcy5zZWxlY3RlZEZvbGRlcik7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdjYXBpdGFsaXplJzpcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmNhcGl0YWxpemVGaWxlc1JlY3Vyc2l2ZWx5KHRoaXMuc2VsZWN0ZWRGb2xkZXIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgc2hvd0NvbmZpcm1hdGlvbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGNvbnN0IG1vZGFsID0gbmV3IE1vZGFsKHRoaXMuYXBwKTtcblx0XHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSBtb2RhbDtcblx0XHRcdFxuXHRcdFx0Y29uc3QgYWN0aW9uVGV4dCA9IHRoaXMuc2VsZWN0ZWRBY3Rpb24gPT09ICdsb3dlcmNhc2UnID8gJ2xvd2VyY2FzZScgOiBcblx0XHRcdFx0XHRcdFx0IHRoaXMuc2VsZWN0ZWRBY3Rpb24gPT09ICd1cHBlcmNhc2UnID8gJ3VwcGVyY2FzZScgOiAnY2FwaXRhbGl6ZSc7XG5cdFx0XHRjb25zdCBhY3Rpb25QYXN0VGVuc2UgPSB0aGlzLnNlbGVjdGVkQWN0aW9uID09PSAnbG93ZXJjYXNlJyA/ICdMb3dlcmNhc2UnIDogXG5cdFx0XHRcdFx0XHRcdFx0ICAgdGhpcy5zZWxlY3RlZEFjdGlvbiA9PT0gJ3VwcGVyY2FzZScgPyAnVXBwZXJjYXNlJyA6ICdDYXBpdGFsaXplJztcblx0XHRcdFxuXHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0NvbmZpcm0gT3BlcmF0aW9uJyB9KTtcblx0XHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgXG5cdFx0XHRcdHRleHQ6IGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gJHthY3Rpb25UZXh0fSBhbGwgZmlsZXMgYW5kIGZvbGRlcnMgaW4gXCIke3RoaXMuc2VsZWN0ZWRGb2xkZXIgfHwgJ1Jvb3QnfVwiP2Bcblx0XHRcdH0pO1xuXHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyBcblx0XHRcdFx0dGV4dDogJ1RoaXMgb3BlcmF0aW9uIGNhbm5vdCBiZSB1bmRvbmUuJyxcblx0XHRcdFx0Y2xzOiAnbG93ZXJjYXNlLWZpbGVzLXdhcm5pbmctdGV4dCdcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBidXR0b25Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdsb3dlcmNhc2UtZmlsZXMtYnV0dG9ucycpO1xuXHRcdFx0XG5cdFx0XHRjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG5cdFx0XHRjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdG1vZGFsLmNsb3NlKCk7XG5cdFx0XHRcdHJlc29sdmUoZmFsc2UpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGNvbmZpcm1CdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG5cdFx0XHRcdHRleHQ6IGBZZXMsICR7YWN0aW9uUGFzdFRlbnNlfSBGaWxlc2AsXG5cdFx0XHRcdGNsczogJ21vZC13YXJuaW5nJ1xuXHRcdFx0fSk7XG5cdFx0XHRjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRtb2RhbC5jbG9zZSgpO1xuXHRcdFx0XHRyZXNvbHZlKHRydWUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdG1vZGFsLm9wZW4oKTtcblx0XHR9KTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cblxuY2xhc3MgTG93ZXJjYXNlRmlsZXNTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogTG93ZXJjYXNlRmlsZXNQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTG93ZXJjYXNlRmlsZXNQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0ZpbGUgQ2FzZSBDb252ZXJ0ZXIgU2V0dGluZ3MnIH0pO1xuXG5cdFx0Ly8gTG93ZXJjYXNlIGNvbWJvIGJveFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0xvd2VyY2FzZSBBY3Rpb24nKVxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB3aGF0IHRoZSBsb3dlcmNhc2Ugb3BlcmF0aW9uIHNob3VsZCBkbycpXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cblx0XHRcdFx0LmFkZE9wdGlvbignbmFtZScsICdMb3dlcmNhc2UgbmFtZSBvbmx5Jylcblx0XHRcdFx0LmFkZE9wdGlvbignYWxsJywgJ0xvd2VyY2FzZSBhbGwgZmlsZXMgaW4gZm9sZGVyJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvd2VyY2FzZUFjdGlvbilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogJ25hbWUnIHwgJ2FsbCcpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sb3dlcmNhc2VBY3Rpb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0Ly8gVXBwZXJjYXNlIGNvbWJvIGJveFxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1VwcGVyY2FzZSBBY3Rpb24nKVxuXHRcdFx0LnNldERlc2MoJ0Nob29zZSB3aGF0IHRoZSB1cHBlcmNhc2Ugb3BlcmF0aW9uIHNob3VsZCBkbycpXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cblx0XHRcdFx0LmFkZE9wdGlvbignbmFtZScsICdVcHBlcmNhc2UgbmFtZSBvbmx5Jylcblx0XHRcdFx0LmFkZE9wdGlvbignYWxsJywgJ1VwcGVyY2FzZSBhbGwgZmlsZXMgaW4gZm9sZGVyJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVwcGVyY2FzZUFjdGlvbilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogJ25hbWUnIHwgJ2FsbCcpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51cHBlcmNhc2VBY3Rpb24gPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0Ly8gQ2FwaXRhbGl6ZSBjb21ibyBib3hcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdDYXBpdGFsaXplIEFjdGlvbicpXG5cdFx0XHQuc2V0RGVzYygnQ2hvb3NlIHdoYXQgdGhlIGNhcGl0YWxpemUgb3BlcmF0aW9uIHNob3VsZCBkbycpXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cblx0XHRcdFx0LmFkZE9wdGlvbignbmFtZScsICdDYXBpdGFsaXplIG5hbWUgb25seScpXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2FsbCcsICdDYXBpdGFsaXplIGFsbCBmaWxlcyBpbiBmb2xkZXInKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FwaXRhbGl6ZUFjdGlvbilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogJ25hbWUnIHwgJ2FsbCcpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYXBpdGFsaXplQWN0aW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0xhc3QgU2VsZWN0ZWQgRm9sZGVyJylcblx0XHRcdC5zZXREZXNjKCdUaGUgZm9sZGVyIHRoYXQgd2FzIGxhc3Qgc2VsZWN0ZWQgZm9yIHByb2Nlc3NpbmcnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignTm8gZm9sZGVyIHNlbGVjdGVkJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxhc3RTZWxlY3RlZEZvbGRlcilcblx0XHRcdFx0LnNldERpc2FibGVkKHRydWUpKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0Fib3V0JyB9KTtcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHsgXG5cdFx0XHR0ZXh0OiAnVGhpcyBwbHVnaW4gY29udmVydHMgZmlsZSBhbmQgZm9sZGVyIG5hbWUgY2FzZXMgKGxvd2VyY2FzZSwgdXBwZXJjYXNlLCBjYXBpdGFsaXplIGZpcnN0IGxldHRlcikgZWl0aGVyIGZvciBzaW5nbGUgaXRlbXMgb3IgcmVjdXJzaXZlbHkgZm9yIGFsbCBmaWxlcyBpbiBhIGZvbGRlci4gVXNlIHdpdGggY2F1dGlvbiBhcyB0aGVzZSBvcGVyYXRpb25zIGNhbm5vdCBiZSB1bmRvbmUuJ1xuXHRcdH0pO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUFxRztBQUNyRyxXQUFzQjtBQVN0QixJQUFNLG1CQUEyQztBQUFBLEVBQ2hELG9CQUFvQjtBQUFBLEVBQ3BCLGlCQUFpQjtBQUFBLEVBQ2pCLGlCQUFpQjtBQUFBLEVBQ2pCLGtCQUFrQjtBQUNuQjtBQUVBLElBQXFCLHVCQUFyQixjQUFrRCx1QkFBTztBQUFB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
